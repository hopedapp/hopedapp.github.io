(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[798],{35637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ba,history:()=>Ca});var r=n(13535),a=n.n(r),o=n(33938),i=n(68420),s=n(27344),l=n(84441),u=n(3020),c=n(3362),p=n(19623),d=n(63109),f=n.n(d),h=n(37247),y=n.n(h),m=n(88066),v=n.n(m),b=n(89356),x=n.n(b),w=n(54579),k=n.n(w),g=n(21052),j=n.n(g),T=n(67294),N=n(82100),Z=n(73727),_=n(90071),M=n(18119),A=n.n(M);const C={skinState:{isImToken:A().isTokenEnv(),header:{}}};var I=n(14890),P=n(53894),B=n(94500),D=n(55719),S=n(63263),E=n.n(S),O=n(30699),L=n.n(O),R=n(58377),H=n.n(R),W=n(28834),F=n.n(W),V=n(13038),q=n.n(V),z=n(32752),U=n.n(z),K=n(44341),Q=n.n(K),Y=n(44845),$=n(85518),X=n(95683),G=n.n(X);function J(){if(!navigator||!navigator.userAgent)return!1;var e=navigator.userAgent.toLowerCase();return!!(-1!=G()(e).call(e,"micromessenger"))}var ee=n(95238),te=n.n(ee),ne=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,r=n;if(!e||"string"!=typeof e)return e||"";(r<0||r>40)&&(r=14);var a=e.length;if(a<=r+2)return e;var o=Math.floor(r/2);return v()(t="".concat(te()(e).call(e,0,o),"...")).call(t,te()(e).call(e,0-o))},re=n(27484),ae=n.n(re),oe="YYYY-MM-DD",ie=function(e){return e<=0?"":"string"==typeof e&&10===e.length?ae()(1e3*j()(e)).format(oe):"Nan"===Number(e)?"":ae()(Number(e)).format(oe)},se=n(2790),le=n.n(se),ue=n(92077),ce=n.n(ue),pe=n(3283),de=n.n(pe),fe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=n<0||n>8?4:n,a=0!==r?"0,0.".concat(te()(t="0000000000").call(t,0,r)):"0,0";return ce()(e).format(a)},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.toString()||"0",r=de().utils.fromWei(n,"ether");return fe(r,t)},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(!e)return 0;var n=de().utils.fromWei(e.toString(),"ether");return le()(n).toFixed(t)};function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(0===e.length)return{0:[]};for(var n=e.length,r=t>0?t:100,a={},o=j()(n/r),i=n%r,s=0;s<o;s++){var l=s*r,u=(s+1)*r;a[s]=te()(e).call(e,l,u)}return i>0&&(a[o]=te()(e).call(e,0-i)),a}var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[e],a=t.isMobile,o=void 0!==a&&a,i=t.isBrowser,s=void 0!==i&&i,l=t.isImToken,u=void 0!==l&&l;return o&&r.push("is-mobile"),s&&r.push("is-pc"),u&&r.push("is-imtoken"),r=v()(r).call(r,n),L()(r).call(r,(function(e){return Boolean(e)})).join(" ")},be="dapp@initialized",xe="dapp@eth/has_injected",we="dapp@eth/set_state",ke="dapp/chain/set_network",ge="dapp@hop/set_balance",je="dapp@wallet/update_tx_state",Te="dapp@wallet/update_allowance_wei",Ne="dapp@wallet/set_selected_address",Ze="dapp@/deposit/upd_config",_e="skin@header/set_hide",Me="dapp@pool/set_count",Ae="dapp@pool/set_ids",Ce="dapp@pool/set_pool_list",Ie="dapp@pool/upd_pool_items",Pe="dapp@pool/set_invalid",Be="dapp@order/initialized",De="dapp@order/set_ids",Se="dapp@order/set_order_list",Ee="dapp@order/upd_order_list";function Oe(e,t){var n=x()(e);if(E()){var r=E()(e);t&&(r=L()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)F()(n=Oe(Object(r),!0)).call(n,(function(t){(0,Y.Z)(e,t,r[t])}));else if(q())U()(e,q()(r));else{var a;F()(a=Oe(Object(r))).call(a,(function(t){Q()(e,t,H()(r,t))}))}}return e}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.val,a=Le({isBrowser:$.jU,isMobile:$.tq,osName:$.BF,isWxCli:J(),isImToken:!1,header:{}},e);if(n===_e){var o={hide:!!r};return a.header=o,a}return a}var He="metamask",We="imtoken",Fe="tronweb",Ve="tokenpocket",qe=[{name:"MetaMask",id:"metamask",sort:1,ejectKey:"ethereum",type:He,dappSupport:!0},{name:"ImToken",id:"imtoken",sort:2,ejectKey:"ethereum",type:We,dappSupport:!0},{name:"TronLink",id:"tronweb",sort:3,ejectKey:"tronweb",type:Fe,dappSupport:!0},{name:"TonkenPocket",id:"tokenpocket",sort:4,ejectKey:"tp",type:Ve,dappSupport:!1}],ze=function(){return L()(qe).call(qe,(function(e){return e.dappSupport}))};function Ue(e,t){var n=x()(e);if(E()){var r=E()(e);t&&(r=L()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)F()(n=Ue(Object(r),!0)).call(n,(function(t){(0,Y.Z)(e,t,r[t])}));else if(q())U()(e,q()(r));else{var a;F()(a=Ue(Object(r))).call(a,(function(t){Q()(e,t,H()(r,t))}))}}return e}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.val,a=Ke({initialized:!1,hasEthereum:Boolean(window.ethereum),selectedAddress:"",pocketEnvType:"",hopBalance:"0",ethBalance:"0",allowanceWei:"0",currDepositAddress:"",poolProfitRate:1,userProfitRate:14,chainId:0,chainType:"",supportEnvWallets:ze(),network:null},e);switch(n){case be:return Ke(Ke({},a),{},{initialized:!0});case we:var o=r||{},i=o.connected,s=void 0!==i&&i,l=o.selectedAddress,u=void 0===l?"":l;return Ke(Ke({},a),{},{connected:s,selectedAddress:u});case Ne:return Ke(Ke({},a),{},{selectedAddress:r});case ke:var c=r.network;return a.network=c,Ke(Ke({},a),{},{chainId:r.chainId||0});case xe:return Ke(Ke({},a),{},{hasEthereum:Boolean(r)});case ge:return Ke(Ke({},a),{},{hopBalance:r});case je:case Ze:return Ke(Ke({},a),r);case Te:return Ke(Ke({},a),{},{allowanceWei:r});default:return a}}var Ye=n(71649),$e=n(33610),Xe=n.n($e);function Ge(e,t){var n=x()(e);if(E()){var r=E()(e);t&&(r=L()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)F()(n=Ge(Object(r),!0)).call(n,(function(t){(0,Y.Z)(e,t,r[t])}));else if(q())U()(e,q()(r));else{var a;F()(a=Ge(Object(r))).call(a,(function(t){Q()(e,t,H()(r,t))}))}}return e}function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.val,a=Je({poolCount:0,poolIds:[],poolList:[],invalidPools:{}},e);switch(n){case Me:return Je(Je({},a),{},{poolCount:r||0});case Ae:return Je(Je({},a),{},{poolIds:r||[]});case Ce:return Je(Je({},a),{},{poolList:r||[]});case Ie:var o=r.pools,i=void 0===o?{}:o,s=r.invalidPools,l=void 0===s?{}:s,u=(0,Ye.Z)(a.poolList),c=function(e){var t=Xe()(u).call(u,(function(t){return t.poolAddress===e}));if(t>=0){var n=Je(Je({},i[e]),{},{poolAddress:e});u[t]=n}};for(var p in i)c(p);var d=function(e){var t=Xe()(u).call(u,(function(t){return t.poolAddress===e}));if(t>=0){var n={poolAddress:e,invalid:!0};u[t]=n}};for(var f in l)d(f);return a.poolList=L()(u).call(u,(function(e){return!e.invalid})),a;case Pe:var h=a.invalidPools;return a.invalidPools=Je(Je({},h),r),a;default:return a}}function tt(e,t){var n=x()(e);if(E()){var r=E()(e);t&&(r=L()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)F()(n=tt(Object(r),!0)).call(n,(function(t){(0,Y.Z)(e,t,r[t])}));else if(q())U()(e,q()(r));else{var a;F()(a=tt(Object(r))).call(a,(function(t){Q()(e,t,H()(r,t))}))}}return e}function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.val,a=nt({orderIds:[],orderList:[]},e);switch(n){case Be:var o=r.orderIds,i=void 0===o?[]:o,s=r.orderList,l=void 0===s?[]:s;return a.orderIds=(0,Ye.Z)(i),a.orderList=(0,Ye.Z)(l),a;case De:return a.orderIds=(0,Ye.Z)(r),a;case Se:return a.orderList=(0,Ye.Z)(r),a;case Ee:for(var u=a.orderList,c=function(e){var t=r[e].orderId,n=Xe()(u).call(u,(function(e){return e.orderId===t}));n>=0&&(u[n]=r[e])},p=0;p<r.length;p++)c(p);return a.orderList=(0,Ye.Z)(u),a;default:return a}}const at=function(e){return(0,I.UY)({router:(0,D.iz)(e),skinState:Re,dappState:Qe,poolState:et,orderState:rt})};var ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.qC,it=(0,B.createLogger)({collapsed:!0});var st=n(50047),lt=n.n(st),ut=n(53701),ct=n.n(ut),pt=n(51614),dt=n.n(pt),ft="/index",ht="/p",yt="/err",mt="/pool",vt="/pledga_detail",bt="/pool_detail";const xt=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(n=lt()(e=lt()(n).call(n,(function(e){return ct()(e).call(e,"/")?te()(e).call(e,0,e.length-1):e}))).call(e,(function(e,t){return!dt()(e).call(e,"/")&&t?"/".concat(e):e}))).join("")};var wt=n(85893),kt=n(5977),gt=n(67112);const jt=(0,n(19048).Z)({extraCommonProps:{className:"brave-icon"},scriptUrl:"/js/brave-font.min.js"});var Tt=n(28195),Nt=n(5281),Zt=n(51445),_t=n.n(Zt);function Mt(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var At=function(e){(0,l.Z)(n,e);var t=Mt(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,Y.Z)((0,Nt.Z)(r),"listeningScrollHandler",(function(e){(!!e.srcElement&&e.srcElement.documentElement.scrollTop||window.pageYOffset||(e.srcElement?e.srcElement.body.scrollTop:0)||0)>=70?r.setState({hasHeaderBack:!0}):r.setState({hasHeaderBack:!1})})),r.state={hasHeaderBack:!1},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.listeningScrollHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.listeningScrollHandler)}},{key:"gotoPage",value:function(e){var t=this.props,n=t.history;t.location;n.push(e)}},{key:"render",value:function(){var e,t,n=this.props,r=n.selectedAddress,a=n.networkLabel,o=n.isMobile,i=["brv-header"];n.isBrowser&&i.push("is-pc"),o&&i.push("is-mobile"),this.state.hasHeaderBack&&i.push("has-back");var s=function(e){return e&&e.length?e.join(" "):""}(i);return(0,wt.jsxs)("div",{className:s,children:[(0,wt.jsx)("div",{className:"brv-header-logobox",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,wt.jsx)("div",{style:{flexDirection:"column",justifyContent:"center",flexShrink:1},children:(0,wt.jsx)("span",{children:a})})}),(0,wt.jsxs)("div",{className:"brv-header-midwrap",children:[(0,wt.jsx)("span",{className:"chain-icon"}),(0,wt.jsx)("span",{className:"chain-account-text",children:r})]}),(0,wt.jsx)("div",{className:"brv-header-righter",children:(0,wt.jsxs)("div",{className:"brv-headpc-menus",children:[(0,wt.jsx)(Tt.Z,{className:"brv-headpc-btn",size:"mini",onClick:_t()(e=this.gotoPage).call(e,this,"/index"),children:"Home"}),(0,wt.jsx)(Tt.Z,{className:"brv-headpc-btn",size:"mini",color:"default",onClick:_t()(t=this.gotoPage).call(t,this,"/pool"),children:"Pool"})]})})]})}}]),n}(T.Component);const Ct=(0,I.qC)(kt.EN,(0,N.$j)((function(e){var t=e.skinState,n=t.isMobile,r=t.isBrowser,a=e.dappState,o=a.network,i=void 0===o?{}:o,s=a.selectedAddress,l=void 0===s?"":s;return{isMobile:n,isBrowser:r,networkLabel:i&&i.label?i.label:"Deposit DApp",network:i,selectedAddress:l}}),(function(e){return{}})))(At);var It={HOME_INDEX_ROOT:"首页",POOL_INDEX_ROOT:"矿池"};var Pt=n(69798),Bt=n.n(Pt),Dt=n(56655),St=[{orderId:"1000000000001",pledgeAmount:3e5,poolAddress:"HOD3NaVjXQKjQeouDqHZepNWqPSQ4vVmd6iTxnmeJtPMK8",expiredDate:"2022-06-07"},{orderId:"10000000000012",pledgeAmount:3e5,poolAddress:"HOD3NaVjXQKjQeouDqHZepNWqPSQ4vVmd6iTxnmeJtPMK8",expiredDate:"2022-06-07"},{orderId:"0x001",pledgeAmount:6e5,poolAddress:"HOD3NaVjXQKjQeouDqHZepNWqPSQ4vVmd6iTxnmeJtPMK8",poolName:"HK-HOP",expiredDate:"2022-06-07"},{orderId:"0x001",pledgeAmount:12e4,poolAddress:"HOD3NaVjXQKjQeouDqHZepNWqPSQ4vVmd6iTxnmeJtPMK8",expiredDate:"2022-06-07"},{orderId:"0x001",pledgeAmount:14e5,poolAddress:"HOD3NaVjXQKjQeouDqHZepNWqPSQ4vVmd6iTxnmeJtPMK8",expiredDate:"2022-06-07"},{orderId:"0x001",pledgeAmount:3e5,poolAddress:"HOD3NaVjXQKjQeouDqHZepNWqPSQ4vVmd6iTxnmeJtPMK8",expiredDate:"2022-11-07"}],Et=n(5562),Ot=n(22827),Lt=n(95266),Rt=n(51005);function Ht(e){var t=e.iconFontSize,n=void 0===t?2:t,r=e.className,a=e.iconClassName,o=void 0===a?"":a,i=e.text,s=void 0===i?"":i;return(0,wt.jsxs)("div",{className:r?"brv-cryicon-container ".concat(r):"brv-cryicon-container",children:[(0,wt.jsx)(jt,{className:o,type:"brave-e404",style:{fontSize:"".concat(n,"em")}}),(0,wt.jsx)("p",{className:"text",children:s})]})}var Wt,Ft,Vt,qt=n(98882),zt=n.n(qt),Ut=n(44721),Kt=n.n(Ut),Qt="E100100",Yt="E100177",$t="E500100",Xt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"INITIAL_SUPPLY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Gt=[{inputs:[{internalType:"address",name:"t",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenNo",type:"uint256"}],name:"PoolWithDraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenNo",type:"uint256"}],name:"UserDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenNo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rewards",type:"uint256"}],name:"UserWithDraw",type:"event"},{inputs:[],name:"CurrentBID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TokenDecimal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"billDetails",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"pool",type:"address"},{internalType:"uint256",name:"tokenNo",type:"uint256"},{internalType:"uint256",name:"createDay",type:"uint256"},{internalType:"uint256",name:"dueDay",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"billLifeInDays",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pool",type:"address"}],name:"billListOfPool",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"}],name:"billListOfUser",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"},{internalType:"uint256",name:"tokenNo",type:"uint256"}],name:"depositForPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"hopBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"op",type:"bool"}],name:"openOperation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolIncomeWithDraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"poolRewardFor100Hops",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"poolsBillIDList",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolsFeeIncome",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bid",type:"uint256"}],name:"queryBillInterest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newDays",type:"uint256"}],name:"setBillLifeInDay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRate",type:"uint256"}],name:"setPoolRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRate",type:"uint256"}],name:"setUserRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userBillIDList",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"userRewardFor100Hops",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bid",type:"uint256"}],name:"withDrawFromPool",outputs:[],stateMutability:"nonpayable",type:"function"}],Jt=[{inputs:[{internalType:"address",name:"tokenAddr",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"trafficAmount",type:"uint256"}],name:"Charge",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"subAddr",type:"bytes32"},{indexed:!0,internalType:"address",name:"addr1",type:"address"},{indexed:!1,internalType:"address",name:"addr2",type:"address"},{indexed:!1,internalType:"address",name:"payAddr",type:"address"},{indexed:!1,internalType:"uint8",name:"eventType",type:"uint8"}],name:"MinerEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pool",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"minerUsedPacket",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minerPacket",type:"uint256"},{indexed:!1,internalType:"uint256",name:"claimedBalance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"poolTotalPacket",type:"uint256"}],name:"PoolClaim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"poolAddr",type:"address"},{indexed:!1,internalType:"uint8",name:"eventType",type:"uint8"}],name:"PoolReg",type:"event"},{anonymous:!1,inputs:[],name:"SettingsChanged",type:"event"},{inputs:[{internalType:"address",name:"poolAddr",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"LegalPool",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"MBytesPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MinerDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PoolDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"Pools",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"UserData",outputs:[{internalType:"uint256",name:"totalChargeBalance",type:"uint256"},{internalType:"uint256",name:"totalTraffic",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"blockChainSettings",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes32",name:"subAddr",type:"bytes32"}],name:"changePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"pDpos",type:"uint256"},{internalType:"uint256",name:"mDpos",type:"uint256"}],name:"changeSettings",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"tokenNo",type:"uint256"},{internalType:"address",name:"poolAddr",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"charge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"destroyPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPoolList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"poolAddr",type:"address"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes32",name:"subAddr",type:"bytes32"}],name:"joinPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"payerForMiner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"pool",type:"address"},{internalType:"uint256",name:"minerCredit",type:"uint256"},{internalType:"uint256",name:"minerAmount",type:"uint256"},{internalType:"uint256",name:"usedTraffic",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"pclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"regPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"bytes32",name:"subAddr",type:"bytes32"}],name:"retireFromPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddr",type:"address"}],name:"tokenBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],en="HOP_CONTENT_DEPOSIT",tn="HOP_TOKEN",nn="HOP_TRAFFIC_MARKET",rn="mainnet",an="ropsten",on="rinkeby",sn="goerli",ln="kovan",un=[{key:rn,name:"Mainnet",label:"Ethereum Main Network",chainId:1},{key:an,name:"Ropsten",label:"Ropsten Test Network",chainId:3},{key:on,name:"Rinkeby",label:"Rinkeby Test Network",chainId:4},{key:sn,name:"Goerli",label:"Goerli Test Network",chainId:5},{key:ln,name:"Kovan",label:"Kovan Test Network",chainId:42}],cn=[4],pn=function(e){var t;return zt()(t=[rn,an,on,sn,ln]).call(t,(function(t){return t===e}))},dn=function(e){var t="string"==typeof e?j()(e):e,n=zt()(un).call(un,(function(e){return e.chainId===t}));return n?n.key:""},fn=function(e){var t="string"==typeof e?j()(e):e;return zt()(un).call(un,(function(e){return e.chainId===t}))||{chainId:t,label:e,name:"Unknow",key:0}};var hn="0xb7b93d75690C4d1E8110D8D86b09Ff43BcA4335a",yn="0x42D9220D370EDd1d2292662A4F7B9f5dc6b7b138",mn=(Wt={},(0,Y.Z)(Wt,tn,"0x72F391A5fC31b026739C8C26e0c5C01b2783F786"),(0,Y.Z)(Wt,en,yn),(0,Y.Z)(Wt,nn,hn),Wt),vn=(Ft={},(0,Y.Z)(Ft,tn,"0x1999ac2b141E6d5c4e27579b30f842078bc620b3"),(0,Y.Z)(Ft,en,""),(0,Y.Z)(Ft,nn,hn),Ft),bn=(Vt={},(0,Y.Z)(Vt,1,vn),(0,Y.Z)(Vt,4,mn),Vt);function xn(e,t){if(!e||!t)return"";var n=bn[e];return n&&n[t]||""}var wn=function(e,t){var n,r,a="";switch(e){case on:a=mn[t]||"";break;case rn:a=vn[t]||"";break;default:throw new Error(v()(n="".concat($t,": network unset [")).call(n,t,"] contract address"))}if(!a)throw new Error(v()(r="".concat($t,": network unset [")).call(r,t,"] contract address"));return a},kn=function(e){return xn(e,tn)},gn=function(e){return xn(e,en)};function jn(e){return wn(e,en)}function Tn(e){return wn(e,tn)}var Nn="683494780a044b0bb9b519553d529c83",Zn=/[-A-Za-z0-9+&@#/%?=~_|!:,.;]?\/$/g.test("https://ninja.baschain.cc/")?"".concat("https://ninja.baschain.cc/"):"".concat("https://ninja.baschain.cc/","/"),_n=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;if(!pn(t))throw new Error("network [".concat(t,"] illegal."));return v()(e="https://".concat(t,".infura.io/v3/")).call(e,Nn)},Mn=n(96934),An=function(){var e=_n("rinkeby");return new(new(de())(e).eth.Contract)(Jt,hn)},Cn=function(){var e;if(!window.ethereum)throw new Error("".concat(Yt,": no ethereum in env"));var t=j()(ethereum.chainId||0);if(!Kt()(cn).call(cn,t))throw new Error(v()(e="".concat($t,": unsupport network.[chain id :")).call(e,t,"]"));return new(de())(window.ethereum)},In=function(){var e=_n(Mn.txMode),t=new(de())(e),n="mainnet"===Mn.txMode?"":yn;if(!n)throw new Error("".concat($t,": unsupport mainnet."));return new t.eth.Contract(Gt,n)},Pn="0x0000000000000000000000000000000000000000";function Bn(e,t){return new e.eth.Contract(Gt,t)}function Dn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,o.Z)(f().mark((function e(t){var n,r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cn(),e.next=3,n.eth.getChainId();case 3:if(r=e.sent,a=gn(r)){e.next=7;break}throw new Error("Unset NetworkDeposit contract address in chain: "+r);case 7:return o=Bn(n,a),e.next=10,o.methods.billListOfUser(t).call({from:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e,t,n){return On.apply(this,arguments)}function On(){return(On=(0,o.Z)(f().mark((function e(t,n,r){var a,o,i,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cn(),e.next=3,a.eth.getChainId();case 3:if(o=e.sent,t){e.next=6;break}throw new Error("".concat(Qt," : miss pool address parameter."));case 6:if(r){e.next=8;break}throw new Error("".concat(Qt," : miss account address parameter."));case 8:if(Kt()(cn).call(cn,j()(o))){e.next=10;break}throw new Error("".concat($t,": current network unsupport."));case 10:if(i=gn(o)){e.next=13;break}throw new Error("Unset NetworkDeposit contract address in chain: "+o);case 13:return s=Bn(a,i),e.abrupt("return",s.methods.depositForPool(t,n));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){var t=e.orderIds,n=void 0===t?[]:t,r=e.billResults,a=void 0===r?[]:r,o=e.poolList,i=void 0===o?[]:o;if(!a.length)return[];if(n.length!==a.length)throw new Error("input length not equal output length.can not convert.");return y()(a).call(a,(function(e,t,r){var a=t.pool,o=t.tokenNo,s=t.user,l=t.createDay,u=void 0===l?0:l,c=t.dueDay,p=void 0===c?0:c;if(a===Pn||s===Pn)return e;var d=zt()(i).call(i,(function(e){return e.poolAddress===a})),f=d?d.poolName:"",h={orderId:n[r],depositedWei:o,depositedValt:he(o,2),user:s,poolAddress:a,poolName:f,createDay:u,dueDay:p,createDate:ie(u),expireDate:ie(p)};return v()(e).call(e,[h])}),[])}function Rn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,o.Z)(f().mark((function e(t,n){var r,a,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cn(),e.next=3,r.eth.getChainId();case 3:if(a=e.sent,t){e.next=6;break}throw new Error("".concat(Qt," : miss order id parameter."));case 6:if(n){e.next=8;break}throw new Error("".concat(Qt," : miss account address parameter."));case 8:if(Kt()(cn).call(cn,j()(a))){e.next=10;break}throw new Error("".concat($t,": current network unsupport."));case 10:if(o=gn(a)){e.next=13;break}throw new Error("Unset NetworkDeposit contract address in chain: "+a);case 13:return i=Bn(r,o),e.abrupt("return",i.methods.withDrawFromPool(t).send({from:n}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(){return(Wn=(0,o.Z)(f().mark((function e(){var t,n,r,a,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Cn(),e.next=3,t.eth.getChainId();case 3:if(n=e.sent,Kt()(cn).call(cn,j()(n))){e.next=6;break}throw new Error("".concat($t,": current network unsupport."));case 6:if(r=gn(n)){e.next=9;break}throw new Error("Unset NetworkDeposit contract address in chain: "+n);case 9:return a=Bn(t,r),e.next=12,a.methods.poolRewardFor100Hops().call();case 12:return o=e.sent,e.next=15,a.methods.userRewardFor100Hops().call();case 15:return i=e.sent,e.abrupt("return",{poolProfitRate:o||1,userProfitRate:i||14});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fn=function(){var e=(0,o.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw new Error("E100177: No ethereum in env.");case 2:return e.next=4,ethereum.request({method:"eth_chainId"});case 4:return e.sent,e.next=7,ethereum.request({method:"eth_requestAccounts"});case 7:return t=e.sent,e.abrupt("return",t[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vn=function(){var e=(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qn=function(){var e=(0,o.Z)(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw new Error("E100177:Please use this DApp in ImToken app.");case 2:return e.next=4,ethereum.request({method:"eth_chainId"});case 4:if(t=e.sent,Kt()(cn).call(cn,"string"==typeof t?j()(t):t)){e.next=8;break}throw r=zn(),new Error(v()(n="".concat($t,": Current network unsupport,please switch to ")).call(n,r,"."));case 8:return e.abrupt("return",fn(t));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zn=function(){var e,t=y()(cn).call(cn,(function(e,t){var n=zt()(un).call(un,(function(e){return e.chainId===t}));return n?v()(e).call(e,[n]):e}),[]),n=t.length,r=y()(t).call(t,(function(e,t,r){return r===n-1&&r>0?v()(e).call(e,["or ".concat(t.name)]):v()(e).call(e,[t.name])}),[]);return r.length>1?v()(e="".concat(te()(r).call(r,0,n-1).join(",")," ")).call(e,te()(r).call(r,-1)):r[0]},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:Ee,val:e}};var Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:xe,val:e}},Qn=function(e){var t=fn(e);return{type:ke,val:{chainId:t.chainId,network:t}}},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:we,val:e}},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:ge,val:e}},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:Ne,val:e}},Gn=function(e){var t=e.hopBalance,n=e.ethBalance,r=e.allowanceWei,a=e.chainId,o=e.selectedAddress,i=e.currDepositAddress;return{type:je,val:{hopBalance:t,ethBalance:n,allowanceWei:r,chainId:a,selectedAddress:o,currDepositAddress:i}}},Jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return{type:Te,val:e}},er=n(25108),tr=function(){var e=(0,o.Z)(f().mark((function e(t){var n,r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,e.prev=1,n){e.next=6;break}return e.next=5,Vn();case 5:n=e.sent;case 6:return e.next=8,Dn(n);case 8:return r=e.sent,a=me(r,100),e.abrupt("return",{selectedAddress:n,ids:r,groups:a});case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();function nr(e){var t=(0,kt.k6)(),n=(0,N.I0)(),r=(0,N.v9)((function(e){return e.orderState})).orderList,a=void 0===r?[]:r,i=(0,N.v9)((function(e){return e.poolState.poolList})),s=(0,N.v9)((function(e){return e.dappState})),l=s.selectedAddress,u=(s.chainId,s.hasEthereum),c=(0,T.useState)(!1),p=(0,Lt.Z)(c,2),d=p[0],h=p[1],m=(0,T.useState)("Please use DApp in ImToken or Metamask mobile app"),b=(0,Lt.Z)(m,2),w=b[0],g=b[1];function j(){return(j=(0,o.Z)(f().mark((function e(n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={pathname:xt(ht,vt),state:{orderId:n}},t.push(r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,T.useEffect)((function(){u&&!l&&g("Not connected to the ethereum account, please refresh the DApp"),tr(l).then((function(e){var t=e.ids,r=y()(t).call(t,(function(e,t){return v()(e).call(e,[{orderId:t}])}),[]);return n(function(e){var t=e.orderIds,n=void 0===t?[]:t,r=e.orderList;return{type:Be,val:{orderIds:n,orderList:void 0===r?[]:r}}}({orderIds:t,orderList:r})),e})).catch((function(e){er.log("Get Bill Ids Fail:>>>",e);var t=function(e){var t="";"string"==typeof e?t=e:e&&e.message&&(t=e.message);var n=t.match(/^E(\d{6})(?:)/);return n?n[0]:""}(e);if(t===$t){var n=zn();g("Current network unsupport,please switch to ".concat(n)),h(!0)}else t===Yt?(g("Please use DApp in ImToken or Metamask mobile app"),h(!0)):Ot.Z.show({icon:"fail",content:e.message,duration:4e3});return{}})).then((function(e){for(var t=e.groups,r=void 0===t?{}:t,a=x()(r).length,o=In().methods.billDetails,s=function(e){var t=r[e],a=y()(t).call(t,(function(e,t){return v()(e).call(e,[o(t).call({from:l})])}),[]);if(0===e)Bt().all(a).then((function(e){var r=Ln({orderIds:t,billResults:e,poolList:i});n(Un(r))}));else{Bt().all(a).then((function(e){var r=Ln({orderIds:t,billResults:e,poolList:i});n(Un(r))}))}},u=0;u<a;u++)s(u)})).catch((function(e){er.log(">>>>>>>>>Load order detail fail>>>>>>",e)})),k()((function(){(function(){return Wn.apply(this,arguments)})().then((function(e){var t,r,a;n((r=(t=e).poolProfitRate,a=t.userProfitRate,{type:Ze,val:{poolProfitRate:r,userProfitRate:a}}))})).catch((function(e){er.log("Load order config fail:",e)}))}),2e3)}),[]),(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"pl-order-title",children:(0,wt.jsx)("div",{className:"inner-wrapper",children:(0,wt.jsx)("span",{children:"Deposit Receipt"})})}),(0,wt.jsx)("div",{className:"pl-order-container",children:d?(0,wt.jsx)("div",{className:"pl-unsupport-wrapper",children:(0,wt.jsx)(Ht,{iconFontSize:3,text:w})}):(0,wt.jsx)(Et.Z,{style:{overflowY:"hidden"},children:lt()(a).call(a,(function(e,t){return(0,wt.jsx)(Et.Z.Item,{className:"pl-order-item",children:(0,wt.jsxs)(Dt.Z,{className:"pl-order__card",children:[(0,wt.jsxs)("div",{className:"pl-order__card-head",children:[(0,wt.jsxs)("div",{className:"pl-order__card-info",children:[(0,wt.jsxs)("div",{className:"order-info-line",children:[(0,wt.jsx)("span",{className:"pl-order__card-label",children:"No."}),(0,wt.jsx)("span",{className:"pl-order__card-valt",children:e.orderId})]}),(0,wt.jsxs)("div",{className:"order-info-line",children:[(0,wt.jsx)("span",{className:"pl-order__card-label",children:"Date"}),(0,wt.jsx)("span",{className:"pl-order__card-valt",children:e.createDate})]}),(0,wt.jsxs)("div",{className:"order-info-line",children:[(0,wt.jsx)("span",{className:"pl-order__card-label",children:"Pool address"}),(0,wt.jsx)("span",{className:"pl-order__card-valt",children:ne(e.poolAddress,18)})]})]}),(0,wt.jsxs)("div",{className:"pl-order__card-action",onClick:function(){!function(e){j.apply(this,arguments)}(e.orderId)},children:[(0,wt.jsx)("div",{className:$.tq?"pool-name is-mobile":"pool-name",children:(0,wt.jsx)("span",{children:e.poolName})}),(0,wt.jsx)(Rt.Z,{fontSize:"18"})]})]}),(0,wt.jsx)("div",{className:"pl-order__card-foot",children:(0,wt.jsx)("span",{className:"pl-order__card-valt pledge-amount",children:e.depositedValt})})]})},"pledge-"+t)}))})})]})}function rr(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var ar=function(e){(0,l.Z)(n,e);var t=rr(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={tokenSymbol:"HOP",orders:(0,Ye.Z)(St),hasMore:!0},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(){var e=this.props,t=e.isMobile,n=e.selectedAddress,r=e.hopBalance,a=this.state.tokenSymbol;return(0,wt.jsx)("div",{className:"home-page__header",children:(0,wt.jsxs)(Dt.Z,{className:t?"home-token-card is-mobile":"home-token-card",children:[(0,wt.jsxs)("div",{className:"home-token-card__content",children:[(0,wt.jsx)("h3",{className:"token-symbol",children:a}),(0,wt.jsx)("p",{className:"token-address",children:n})]}),(0,wt.jsx)("div",{className:"home-token-card__footer",children:(0,wt.jsx)("span",{className:"token-hop-balance",children:r?he(r,2):"-"})})]})})}},{key:"renderFooter",value:function(){return(0,wt.jsx)("div",{className:"home-page__footer"})}},{key:"render",value:function(){var e=this.props,t=(e.hasEthereum,e.selectedAddress,e.isMobile),n=e.isBrowser,r=ve("home-page",{isMobile:t,isBrowser:n});return(0,wt.jsxs)("div",{className:r,children:[this.renderHeader(),(0,wt.jsx)(nr,{})]})}}]),n}(T.Component),or=n(25108);const ir=(0,I.qC)(kt.EN,(0,N.$j)((function(e){var t=e.skinState,n=t.isMobile,r=t.isBrowser,a=e.dappState,o=a.selectedAddress,i=void 0===o?"":o,s=a.hopBalance,l=a.hasEthereum;return{selectedAddress:i,isMobile:n,isBrowser:r,hopBalance:s,hasEthereum:void 0!==l&&l}}),(function(e){return{loadPoolList:function(){return function(e){return new(Bt())((function(e,t){An.methods.getPoolList().call({},(function(n,r){return n?t(n):e(r)}))})).then((function(t){var n=poolIdsToPoolList(t);e({type:Ce,val:n})})).catch((function(e){or.warn(e)}))}}}})))(ar);function sr(e){var t=(0,kt.k6)(),n=(0,N.v9)((function(e){var t;return L()(t=e.poolState.poolList||[]).call(t,(function(e){return!e.invalid}))})),r=(0,T.useState)([]),a=(0,Lt.Z)(r,2),o=(a[0],a[1],(0,T.useState)(!0)),i=(0,Lt.Z)(o,2);i[0],i[1];function s(e){var n={pathname:xt(ht,bt),state:{poolAddress:e}};e&&t.push(n)}return(0,wt.jsx)("div",{className:"pool-list__container",children:(0,wt.jsx)(Et.Z,{className:"pool-list",mode:"default",children:lt()(n).call(n,(function(e,t){return(0,wt.jsxs)(Et.Z.Item,{className:"pool-list-item pool-list-item__back".concat(t%3),extra:(0,wt.jsx)("button",{className:"pool-list__actions-btn",onClick:function(){s(e.poolAddress)},children:"Deposit"}),arrow:(0,wt.jsx)(Rt.Z,{onClick:function(){s(e.poolAddress)}}),children:[(0,wt.jsx)("div",{className:"pool-item__title",children:(0,wt.jsx)("span",{children:e.poolName})}),(0,wt.jsx)("div",{className:"pool-item__address",children:(0,wt.jsx)("span",{className:"address",children:ne(e.poolAddress,16)})})]},"pool_item_".concat(t))}))})})}function lr(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var ur=function(e){(0,l.Z)(n,e);var t=lr(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props.poolList,t=void 0===e?[]:e;return(0,wt.jsx)("div",{className:"pool-page",children:(0,wt.jsx)(sr,{poolList:t})})}}]),n}(T.Component);const cr=(0,I.qC)(kt.EN,(0,N.$j)((function(e){return{isMobile:e.skinState.isMobile,initialized:e.dappState.initialized,poolList:e.poolState.poolList}}),(function(e){return{}})))(ur);function pr(e){(0,kt.k6)();return(0,wt.jsx)("div",{children:(0,wt.jsx)("h1",{children:"404"})})}function dr(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var fr=function(e){(0,l.Z)(n,e);var t=dr(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={headVisible:!0},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(e){return e.isBrowser&&this.state.headVisible&&(0,wt.jsx)(Ct,{})}},{key:"renderContent",value:function(e){var t=e.isBrowser,n=e.isMobile,r=ve("home-layout__content",{isMobile:n,isBrowser:t});return(0,wt.jsx)("div",{className:r,children:(0,wt.jsxs)(kt.rs,{children:[(0,wt.jsx)(kt.AW,{path:ft,exact:!0,component:ir}),(0,wt.jsx)(kt.AW,{path:mt,exact:!0,component:cr}),(0,wt.jsx)(kt.AW,{component:pr})]})})}},{key:"renderFooter",value:function(e){var t=e.isBrowser,n=e.isMobile,r=ve("home-layout__footer",{isMobile:n,isBrowser:t});return(0,wt.jsx)("div",{className:r,style:{textAlign:"center"},children:(0,wt.jsx)("div",{style:{paddingTop:"12px"},children:(0,wt.jsxs)("span",{children:["Copyright © 2020-",(new Date).getFullYear()," HOP Group. All Rights Reserved."]})})})}},{key:"tabActiveHandle",value:function(e){var t,n,r=this.props,a=r.location,o=r.history;r.isImToken;a.pathname!==e&&(o.push(e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")===We&&A().isTokenEnv()&&A().apis.navigator.setTitle(e)}("string"==typeof(t=e)&&It[t]?It[t]:n||"","imtoken"))}},{key:"renderMobFooter",value:function(e){var t=this,n=e.isImToken,r=e.pathname,a=ve("home-layout__footer",{isMobile:!0,isImToken:n}),o=[{key:ft,title:"Home",icon:(0,wt.jsx)(jt,{type:"brave-home"})},{key:mt,title:"Pool",icon:(0,wt.jsx)(jt,{type:"brave-miner"})}];return(0,wt.jsx)("div",{className:a,children:(0,wt.jsx)(gt.Z,{activeKey:r,onChange:function(e){return t.tabActiveHandle(e)},children:lt()(o).call(o,(function(e){return(0,wt.jsx)(gt.Z.Item,{icon:e.icon,title:e.title},e.key)}))})})}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.isImToken,r=e.location,a=e.isBrowser,o=ve("home-layout",{isMobile:t,isBrowser:a,isImToken:n});return(0,wt.jsxs)("div",{className:o,children:[this.renderHeader({isBrowser:a,isImToken:n}),this.renderContent({isBrowser:a,isMobile:t}),t?this.renderMobFooter({isImToken:n,pathname:r&&r.pathname?r.pathname:ft}):this.renderFooter({isBrowser:a,isMobile:t})]})}}]),n}(T.Component);const hr=(0,I.qC)(kt.EN,(0,N.$j)((function(e){var t=e.skinState;return{isImToken:t.isImToken,isMobile:t.isMobile,isBrowser:t.isBrowser}}),(function(e){return{}})))(fr);var yr=n(42772);function mr(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var vr=function(e){(0,l.Z)(n,e);var t=mr(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(){return(0,wt.jsx)("div",{className:"dapp__header"})}},{key:"renderContent",value:function(){return(0,wt.jsxs)("div",{className:"dapp-coding__content",children:[(0,wt.jsx)("div",{className:"dapp-coding-img",children:(0,wt.jsx)("img",{src:yr,alt:"Coding",sizes:"",srcset:yr})}),(0,wt.jsx)("p",{className:"dapp-coding-text",children:"功能正在开发中..."})]})}},{key:"renderFooter",value:function(){return(0,wt.jsx)("div",{className:"dapp__footer"})}},{key:"render",value:function(){return(0,wt.jsx)("div",{className:"dapp-layout",children:this.renderContent()})}}]),n}(T.Component);const br=(0,I.qC)(kt.EN,(0,N.$j)((function(e){return{isMobile:e.skinState.isMobile}}),(function(e){return{}})))(vr);var xr=n(93434),wr=n(59104),kr=n.n(wr),gr=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n&&n.length?v()(e=["brv"]).call(e,n).join("-"):""},jr=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n||!n.length)return"";var a=v()(e=[]).call(e,n);return(a=L()(a).call(a,(function(e){return"string"==typeof e&&kr()(e).call(e).length}))).length?a.join(" "):""};function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelText,n=e.labelValue,r=e.labelClsName,a=void 0===r?"":r,o=e.valtClsName,i=e.className,s=void 0===i?"":i,l=e.style,u=void 0===l?{}:l,c=e.labelBox,p=void 0===c||c,d=e.valtColor,f=gr("form"),h=jr("".concat(f,"-item"),s),y=jr("".concat(f,"-label"),a),m=jr("".concat(f,"-valt"),o);return(0,wt.jsxs)("div",{className:h,style:u,children:[(0,wt.jsx)("label",{className:y,children:(0,wt.jsx)("span",{className:p?"brv-label-box":"label",children:t})}),(0,wt.jsx)("div",{className:m,children:(0,wt.jsx)("span",{className:"valt",style:{color:d},children:n})})]})}var Nr=n(93806),Zr=n(25108),_r=function(e){var t=(0,N.v9)((function(e){return e.dappState})).selectedAddress,n=(0,T.useState)(!1),r=(0,Lt.Z)(n,2),a=r[0],i=r[1],s=(0,T.useState)(!1),l=(0,Lt.Z)(s,2),u=l[0],c=l[1],p=e.orderId,d=e.pledgeAmount,h=(e.tsSecond,e.canRedeem),y=void 0!==h&&h;function m(){return(m=(0,o.Z)(f().mark((function e(){var n,r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("Please use it in ImToken app");case 3:return e.next=5,Rn(p,t);case 5:n=e.sent,r=n.status,a=n.blockNumber,c(!1),(Boolean(r)||a)&&Ot.Z.show({icon:"success",content:"Completed",duration:2e3}),i(!1),e.next=20;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0&&e.t0.code?e.t0.code:"",o=e.t0&&e.t0.message?e.t0.message:e.t0,Zr.warn("Withdraw Fail",e.t0),Ot.Z.show({icon:"fail",content:"Withdraw error:".concat(o),duration:3e3}),c(!1),i(!1);case 20:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Tt.Z,{disabled:!y,color:"primary",size:"small",className:"brv-btn brv-btn-round",onClick:(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qn();case 3:i(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ot.Z.show({icon:"fail",content:e.t0&&e.t0.message?e.t0.message:"Please use it in the ImToken app",duration:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),style:{maxWidth:"600px"},children:"Withdraw"}),(0,wt.jsxs)(Nr.Z,{visible:a,position:"bottom",onMaskClick:function(){return!u&&i(!1)},bodyClassName:"brv-popup__body",bodyStyle:{minHeight:"35vh",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[(0,wt.jsx)("div",{className:"brv-popup__title",children:(0,wt.jsx)("span",{className:"popup-title order-no",children:p})}),(0,wt.jsx)("div",{className:"brv-popup__content",children:(0,wt.jsxs)("p",{className:"popup-message",children:["This bill pre-profit ",d," HOP"]})}),(0,wt.jsx)("div",{className:"brv-popup__bottom",children:(0,wt.jsx)(Tt.Z,{disabled:u,color:"primary",size:"small",className:"brv-btn brv-btn-round",onClick:function(){return m.apply(this,arguments)},style:{maxWidth:"600px"},children:"Confirm"})})]})]})};function Mr(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Ar=function(e){(0,l.Z)(n,e);var t=Mr(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={orderId:"",createDay:"",dueDay:"",depositedValt:""},r}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.orderList,r=void 0===n?[]:n,a=e.asynPreCheckTxState,o=t.state,i=void 0===o?{}:o;if(i.orderId){this.setState({orderId:i.orderId});var s=zt()(r).call(r,(function(e){return e.orderId===i.orderId}));s&&this.setState(s)}a&&a()}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(){var e=this.props,t=(e.isMobile,e.isBrowser),n=e.history;return t&&(0,wt.jsxs)("div",{className:"plo-detail__header",children:[(0,wt.jsx)(xr.Z,{style:{fontSize:24,color:"#fff",marginLeft:"12px"},onClick:function(){return n.go(-1)}}),(0,wt.jsx)("span",{className:"brv-nav-title",children:this.state.orderId}),(0,wt.jsx)("div",{className:"plo-detail__header-actions"})]})}},{key:"renderContent",value:function(){var e=this.props,t=(e.location,e.isMobile),n=e.isImToken,r=(e.poolProfitRate,e.userProfitRate),a=this.state,o=a.orderId,i=(a.createDay,a.createDate),s=a.depositedWei,l=a.depositedValt,u=a.dueDay,c=a.expireDate,p=a.poolAddress,d=a.poolName,f=(a.profit,function(e,t){if(!e)return 0;var n=de().utils.fromWei(e,"ether");return(le()(n)/100*t).toFixed(4)}(s,r)),h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=y()(t).call(t,(function(e,t){return/^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$/.test(t)?v()(e).call(e,le()(t)):e}),[]);return y()(r).call(r,(function(e,t){return e+t}),0)}(l,f),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new Date).getTime()/1e3-j()(e)>=0}(u),b=ve("plo-detail__content",{isMobile:t,isImToken:n});return(0,wt.jsx)("div",{className:b,children:(0,wt.jsxs)(Dt.Z,{headerClassName:"brv-card-title",title:o,className:"brv-card",children:[(0,wt.jsxs)("div",{className:"brv-form",children:[(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Quota",labelValue:l}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Deposit Date",labelValue:i}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Expired Date",labelValue:c}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Pool Name",labelValue:d}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Pool Address",labelValue:ne(p)}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Pre-Profit",labelValue:f})]}),(0,wt.jsx)("div",{className:"brv-card__footer",children:(0,wt.jsx)(_r,{orderId:o,pledgeAmount:h,canRedeem:m})})]})})}},{key:"renderFooter",value:function(){var e=this.props,t=e.history,n=e.isMobile;e.isImToken;return n&&(0,wt.jsx)("div",{className:"plo-detail__footer",children:(0,wt.jsx)(xr.Z,{style:{fontSize:24,color:"#fff"},onClick:function(){return t.go(-1)}})})}},{key:"render",value:function(){return(0,wt.jsxs)("div",{className:"plo-detail",children:[this.renderHeader(),this.renderContent(),this.renderFooter()]})}}]),n}(T.Component),Cr=n(25108),Ir=1*Math.pow(10,8),Pr=function(){return de().utils.toWei(Ir.toString())},Br=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn.txMode,n=Tn(t);return new e.eth.Contract(Xt,n)},Dr=function(e,t){return new e.eth.Contract(Xt,t)};function Sr(e){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.Z)(f().mark((function e(t){var n,r,a,o,i,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cn(),e.next=3,n.eth.getChainId();case 3:if(r=e.sent,Kt()(cn).call(cn,j()(r))){e.next=6;break}throw new Error("".concat($t,": current network unsupport."));case 6:if(a=kn(r),o=gn(r),a){e.next=10;break}throw new Error("no hop address or no deposit address.");case 10:return i=Dr(n,a),s=n.utils.toWei(Ir.toString()),e.abrupt("return",i.methods.approve(o,s).send({from:t}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,o.Z)(f().mark((function e(t){var n,r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Cn(),e.next=4,n.eth.getChainId();case 4:if(r=e.sent,Kt()(cn).call(cn,j()(r))){e.next=7;break}throw new Error("".concat($t,": current network unsupport."));case 7:if(a=kn(r)){e.next=10;break}throw new Error("Unset hop address.");case 10:return o=Dr(n,a),e.abrupt("return",o.methods.balanceOf(t).call({from:t}));case 14:return e.prev=14,e.t0=e.catch(0),Cr.log(">>>>>>>>>>>>>>>",e.t0),e.abrupt("return","0");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Rr(){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,o.Z)(f().mark((function e(){var t,n,r,a,o,i,s,l,u,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}throw new Error("".concat(Yt,":  No ethereum in your enviroment."));case 2:return e.next=4,ethereum.request({method:"eth_chainId"});case 4:if(t=e.sent,dn(t)===Mn.txMode){e.next=7;break}throw new Error(v()(n="".concat($t,": Network must at ")).call(n,Mn.txMode,"."));case 7:return e.next=9,ethereum.request({method:"eth_requestAccounts"});case 9:return r=e.sent,a=r[0],o=new(de())(window.ethereum),e.next=14,o.eth.getBalance(a);case 14:return i=e.sent,s=Br(o,Mn.txMode),e.next=18,s.methods.balanceOf(a).call();case 18:return l=e.sent,u=jn(Mn.txMode),e.next=22,s.methods.allowance(a,u).call({from:a});case 22:return c=e.sent,e.abrupt("return",{currDepositAddress:u,chainId:j()(t),selectedAddress:a,ethBalance:i,hopBalance:l,allowanceWei:c});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wr=n(25108);const Fr=(0,I.qC)(kt.EN,(0,N.$j)((function(e){var t=e.skinState,n=t.isMobile,r=t.isBrowser,a=e.orderState,o=a.orderList,i=void 0===o?[]:o,s=(a.ethBalance,a.allowanceWei,a.poolProfitRate),l=void 0===s?1:s,u=a.userProfitRate;return{isMobile:n,orderList:i,isBrowser:r,poolProfitRate:l,userProfitRate:void 0===u?14:u}}),(function(e){return{asynPreCheckTxState:function(){Rr().then((function(t){e(Gn(t))})).catch((function(e){return Wr.log(e)}))}}})))(Ar);function Vr(e){var t=e.navTitle,n=void 0===t?"":t,r=e.navFontSize,a=void 0===r?24:r,o=e.fontSize,i=void 0===o?18:o,s=e.titleColor,l=void 0===s?"#fff":s,u=(0,kt.k6)();return(0,wt.jsxs)("div",{className:"page-navbar__container",style:{color:l,fontSize:i},children:[(0,wt.jsx)(xr.Z,{style:{fontSize:a,marginLeft:"12px"},onClick:function(){return u.go(-1)}}),(0,wt.jsx)("span",{className:"page-navbar__title",style:{color:l},children:n}),(0,wt.jsx)("div",{className:"page-navbar__actions"})]})}function qr(e){var t=(0,kt.k6)(),n=e.navFontSize,r=void 0===n?24:n,a=e.fontSize,o=void 0===a?18:a,i=e.titleColor,s=void 0===i?"#fff":i;return(0,wt.jsxs)("div",{className:"page-botbar__container",style:{color:s,fontSize:o},children:[(0,wt.jsx)(xr.Z,{style:{fontSize:r,marginLeft:"12px"},onClick:function(){return t.go(-1)}}),(0,wt.jsx)("span",{className:"nav-title"}),(0,wt.jsx)("div",{className:"page-botbar__actions"})]})}var zr=n(49220),Ur=(n(25108),function(e){var t=e.poolAddress,n=e.poolName,r=e.tsSecond,a=void 0===r?6:r,i=(0,kt.k6)(),s=(0,N.v9)((function(e){return e.dappState})),l=s.hopBalance,u=s.selectedAddress,c=void 0===u?"":u,p=(s.hasEthereum,ye(l,0)),d=(0,T.useState)(""),h=(0,Lt.Z)(d,2),y=h[0],m=h[1],b=(0,T.useState)(!1),x=(0,Lt.Z)(b,2),w=x[0],k=x[1],g=(0,T.useState)(!1),Z=(0,Lt.Z)(g,2),_=Z[0],M=Z[1];function A(){return(A=(0,o.Z)(f().mark((function e(){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=C(y),e.next=4,En(t,n,c);case 4:r=e.sent,M(!0),r.send({from:c}).on("transactionHash",(function(e){var t;M(!0),Ot.Z.show({icon:"loading",content:v()(t="Transaction [".concat(e,"] packing.This will go back to list after ")).call(t,a," seconds."),duration:1e3*a,afterClose:function(){M(!1),k(!1),i.push("/pool")}})})).on("error",(function(e,t){e&&4001===e.code?Ot.Z.show({icon:"fail",content:e&&e.message?e.message:"Deposit Fail.",duration:3e3,afterClose:function(){M(!1)}}):e&&!e.code?Ot.Z.show({icon:"fail",content:e&&e.message?e.message:"Deposit Fail.",duration:1e3*a,afterClose:function(){M(!1),k(!1)}}):(M(!1),k(!1))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),M(!1),Ot.Z.show({icon:"fail",content:e.t0&&e.t0.message?e.t0.message:"Deposit Fail.",duration:3e3});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function C(e){if(!/^[0-9]+(.[0-9]+)?$/.test(e))throw new Error("Please enter HOP amount ");if(Number(e)-p>0)throw m(p),new Error("This account only has ".concat(p," HOP"));return j()(e)}return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Tt.Z,{color:"primary",size:"small",className:"brv-btn brv-btn-round",onClick:(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qn();case 3:k(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ot.Z.show({icon:"fail",content:e.t0&&e.t0.message?e.t0.message:"Please use it in the ImToken app",duration:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),style:{maxWidth:"600px"},children:"Deposit"}),(0,wt.jsxs)(Nr.Z,{visible:w,position:"bottom",onMaskClick:function(){return!_&&k(!1)},bodyClassName:"brv-popup__body",bodyStyle:{minHeight:"35vh",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[(0,wt.jsx)("div",{className:"brv-popup__title",children:(0,wt.jsx)("span",{className:"popup-title order-no",children:n})}),(0,wt.jsx)("div",{className:"brv-popup__content",children:(0,wt.jsx)(Et.Z,{style:{"--prefix-width":"6em","--font-size":"14px"},children:(0,wt.jsx)(Et.Z.Item,{className:"brv-form-listitem",prefix:(0,wt.jsx)("label",{className:"brv-input-label",style:{fontSize:"16px",fontWeight:"bold",color:"#9A999C",textAlign:"right"},children:"HOP:"}),children:(0,wt.jsx)(zr.Z,{placeholder:"Maximum ".concat(p," HOP"),value:y,onChange:function(e){m(e)},clearable:!0,disabled:_,style:{"--font-size":"14px"}})})})}),(0,wt.jsx)("div",{className:"brv-popup__bottom",children:(0,wt.jsx)(Tt.Z,{disabled:_,color:"primary",size:"small",className:"brv-btn brv-btn-round",onClick:function(){return A.apply(this,arguments)},style:{maxWidth:"600px"},children:"Confirm"})})]})]})}),Kr=n(25108),Qr=function(e){var t=(0,T.useState)(!1),n=(0,Lt.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(!1),s=(0,Lt.Z)(i,2),l=s[0],u=s[1],c=e.ethBalanceValt,p=void 0===c?0:c,d=(0,N.v9)((function(e){return e.dappState})),h=d.currDepositAddress,y=void 0===h?"":h,m=d.selectedAddress,v=void 0===m?"":m,b=(0,N.I0)(),x=function(){var e=(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qn();case 3:if(!(p<.005)){e.next=5;break}throw new Error("Insufficient Gas fees");case 5:a(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ot.Z.show({icon:"fail",content:e.t0&&e.t0.message?e.t0.message:"Please use it in the ImToken app",duration:4e3});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();function w(){return w=(0,o.Z)(f().mark((function e(t){var n,r,o,i,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return Ot.Z.show({icon:"fail",content:"No account connected",duration:3e3}),e.abrupt("return");case 5:return u(!0),e.prev=6,e.next=9,Sr(t);case 9:n=e.sent,u(!1),r=n.status,o=n.blockNumber,Boolean(r)||o?(i=Pr(),Ot.Z.show({icon:"success",content:"Approve Completed",duration:1500}),a(!1),b(Jn(i))):(Ot.Z.show({content:"Approve fail,try again",duration:1500}),a(!1)),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(6),u(!1),s=e.t0&&e.t0.code?e.t0.code:"",Kr.log("Approved fail:",e.t0),Ot.Z.show({icon:"fail",content:"Approve error ".concat(s),duration:4e3});case 21:case"end":return e.stop()}}),e,null,[[6,15]])}))),w.apply(this,arguments)}return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Tt.Z,{color:"primary",size:"small",className:"brv-btn brv-btn-round",onClick:x,style:{maxWidth:"600px"},children:"Approve"}),(0,wt.jsxs)(Nr.Z,{visible:r,position:"bottom",onMaskClick:function(){return!l&&a(!1)},bodyClassName:"brv-popup__body",bodyStyle:{minHeight:"35vh",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[(0,wt.jsx)("div",{className:"brv-popup__title",children:(0,wt.jsx)("span",{className:"popup-title order-no",children:"Approval"})}),(0,wt.jsxs)("div",{className:"brv-popup__content",children:[(0,wt.jsxs)("p",{className:"popup-message",children:["Approved to :",ne(y)]}),l&&(0,wt.jsx)("p",{className:"popup-message",style:{color:"#c0c0c0"},children:"loading..."})]}),(0,wt.jsx)("div",{className:"brv-popup__bottom",children:(0,wt.jsx)(Tt.Z,{disabled:l,color:"primary",size:"small",className:"brv-btn brv-btn-round",onClick:function(){!function(e){w.apply(this,arguments)}(v)},style:{maxWidth:"600px"},children:"Confirm Approval"})})]})]})};function Yr(e,t){var n=x()(e);if(E()){var r=E()(e);t&&(r=L()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)F()(n=Yr(Object(r),!0)).call(n,(function(t){(0,Y.Z)(e,t,r[t])}));else if(q())U()(e,q()(r));else{var a;F()(a=Yr(Object(r))).call(a,(function(t){Q()(e,t,H()(r,t))}))}}return e}function Xr(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Gr=function(e){(0,l.Z)(n,e);var t=Xr(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={detail:{}},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.poolList,r=void 0===n?[]:n,a=e.orderList,o=void 0===a?[]:a,i=e.asynPreCheckTxState,s=t.state,l=void 0===s?{}:s;if(l.poolAddress){var u=zt()(r).call(r,(function(e){return e.poolAddress===l.poolAddress}));if(u){var c=L()(o).call(o,(function(e){return e.poolAddress===l.poolAddress}));this.setState({detail:$r($r({},u),{},{orderCount:c?c.length:0})})}}i&&i()}},{key:"componentWillUnmount",value:function(){}},{key:"renderContent",value:function(){var e,t=this.props,n=(t.location,t.isMobile),r=t.isBrowser,a=(t.isImToken,t.hopBalanceValt,t.ethBalanceValt),o=(t.allowanceValt,t.needApprove),i=this.state.detail||{},s=i.poolName,l=i.poolAddress,u=(i.url,i.email),c=(i.lockAmount,i.owner,i.orderCount),p=ve("brv-card",{isMobile:n,isBrowser:r});return(0,wt.jsx)("div",{className:"pool-detail__content",children:(0,wt.jsxs)(Dt.Z,{headerClassName:"brv-card-title",title:s,className:p,children:[(0,wt.jsxs)("div",{className:"brv-form",children:[(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Pool address",labelValue:ne(l)}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Status",valtColor:c>0?"#DC7548":"#48474A",labelValue:c>0?v()(e="Has ".concat(c," ")).call(e,c>1?"receipts":"receipt"," "):"No Deposit"}),(0,wt.jsx)(Tr,{labelBox:!0,labelText:"Email",labelValue:u})]}),(0,wt.jsx)("div",{className:"brv-card__footer",children:o?(0,wt.jsx)(Qr,{ethBalanceValt:a}):(0,wt.jsx)(Ur,{poolName:s,poolAddress:l})})]})})}},{key:"render",value:function(){var e=this.props,t=e.isBrowser,n=(e.isImToken,e.isMobile);return(0,wt.jsxs)("div",{className:"pool-detail",children:[t&&(0,wt.jsx)(Vr,{navTitle:"Pool Details"}),this.renderContent(),n&&(0,wt.jsx)(qr,{})]})}}]),n}(T.Component);const Jr=(0,I.qC)(kt.EN,(0,N.$j)((function(e){var t=e.skinState,n=t.isMobile,r=t.isBrowser,a=t.isImToken,o=e.poolState.poolList,i=void 0===o?[]:o,s=e.orderState.orderList,l=void 0===s?[]:s,u=e.dappState,c=u.selectedAddress,p=u.hopBalance,d=u.ethBalance,f=u.allowanceWei,h=ye(f,2),y=ye(p,2),m=y-h>0||h<=1;return{isMobile:n,isBrowser:r,isImToken:a,poolList:i,hopBalanceValt:y,ethBalanceValt:ye(d,6),allowanceValt:h,needApprove:m,selectedAddress:c,orderList:l}}),(function(e){return{asynPreCheckTxState:function(){Rr().then((function(t){e(Gn(t))})).catch((function(e){}))}}})))(Gr);var ea=n(42825),ta=n.n(ea),na=n(9669),ra=n.n(na),aa=n(25108);function oa(e){(0,kt.k6)();var t="http://ninja.baschain.cc/pool/0xd8a11716156af950E5Ff6FC62B41733516A28c9C",n=(0,T.useState)(""),r=(0,Lt.Z)(n,2),a=r[0],o=r[1];return(0,T.useEffect)((function(){aa.log(">>>>>>>>>>>>>>>>>>>"),ra().get(t).then((function(e){aa.log("RESP>>>>>>>>>",e),200===e.status&&e.data&&o(ta()(e.data))})).catch((function(e){aa.log("Error:>>>>>>>>>",e),o(e.message)}))}),[]),(0,wt.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,wt.jsx)("h1",{children:"API TEST"}),(0,wt.jsx)("p",{className:"url",children:t}),(0,wt.jsx)("div",{className:"data-json",children:(0,wt.jsx)("p",{style:{wordBreak:"break-all"},children:a})})]})}function ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backWaitSeconds,n=void 0===t?10:t,r=(0,T.useState)(n),a=r.remaining,i=(r.setRemaining,(0,kt.k6)());function s(){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k()((function(){i.push(ft)}),1e3*n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s(),(0,wt.jsxs)("div",{className:"p-layout__unfund",children:[(0,wt.jsx)("div",{className:"p-unfund-img",children:(0,wt.jsx)(jt,{type:"brave-e404",style:{fontSize:64}})}),(0,wt.jsxs)("div",{className:"p-unfund__timer",children:[(0,wt.jsx)("p",{className:"timer-num",children:(0,wt.jsx)("span",{children:a})}),(0,wt.jsxs)("p",{className:"timer-tips",children:["将在",n,"秒后返回首页."]})]})]})}function sa(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var la=function(e){(0,l.Z)(n,e);var t=sa(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={pageHeaderVisible:!1},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(){return this.state.pageHeaderVisible&&(0,wt.jsx)("div",{className:"p-layout__header",children:"Page Nav Header"})}},{key:"renderPageRouter",value:function(){return(0,wt.jsxs)(kt.rs,{children:[(0,wt.jsx)(kt.AW,{path:xt(ht,vt),exact:!0,component:Fr}),(0,wt.jsx)(kt.AW,{path:xt(ht,bt),exact:!0,component:Jr}),(0,wt.jsx)(kt.AW,{path:xt(ht,"test"),exact:!0,component:oa}),(0,wt.jsx)(kt.AW,{component:ia})]})}},{key:"render",value:function(){this.props.isMobile;return(0,wt.jsxs)("div",{className:"p-layout",children:[this.renderHeader(),this.renderPageRouter()]})}}]),n}(T.Component);const ua=(0,I.qC)(kt.EN,(0,N.$j)((function(e){var t=e.skinState;return{isImToken:t.isImToken,isMobile:t.isMobile}}),(function(e){return{}})))(la);function ca(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var pa=function(e){(0,l.Z)(n,e);var t=ca(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(){return(0,wt.jsx)("div",{className:"error-layout__header",children:" ErrorLayout Header"})}},{key:"renderContent",value:function(){return(0,wt.jsx)("div",{className:"error-layout__content",children:"ErrorLayout Content"})}},{key:"renderFooter",value:function(){return(0,wt.jsx)("div",{className:"error-layout__footer",children:"ErrorLayout Footer"})}},{key:"render",value:function(){return(0,wt.jsxs)("div",{className:"error-layout",children:[this.renderHeader(),this.renderContent(),this.renderFooter()]})}}]),n}(T.Component);const da=(0,I.qC)(kt.EN,(0,N.$j)((function(e){return{isMobile:e.skinState.isMobile}}),(function(e){return{}})))(pa);function fa(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var ha=function(e){(0,l.Z)(n,e);var t=fa(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={},r}return(0,s.Z)(n,[{key:"render",value:function(){return(0,wt.jsxs)(kt.rs,{children:[(0,wt.jsx)(kt.AW,{path:"/",exact:!0,render:function(){return(0,wt.jsx)(kt.l_,{to:ft})}}),(0,wt.jsx)(kt.AW,{path:ft,exact:!0,component:hr}),(0,wt.jsx)(kt.AW,{path:yt,component:da}),(0,wt.jsx)(kt.AW,{path:ht,component:ua}),(0,wt.jsx)(kt.AW,{path:"/d",component:br}),(0,wt.jsx)(kt.AW,{path:"/",component:hr}),(0,wt.jsx)(kt.AW,{render:function(){return(0,wt.jsx)(kt.l_,{to:xt(yt,"/404")})}})]})}}]),n}(T.PureComponent);var ya=function(){var e=(0,o.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=An(),e.abrupt("return",t.methods.getPoolList().call());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ma=function(){var e=(0,o.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=9;break}return t.dispatch(Kn(!0)),e.next=4,window.ethereum.request({method:"eth_chainId"});case 4:n=e.sent,t.dispatch(Qn(n)),ethereum.request({method:"eth_requestAccounts"}).then(function(){var e=(0,o.Z)(f().mark((function e(n){var r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length?n[0]:"",a={connected:Boolean(r),selectedAddress:r},t.dispatch(Yn(a)),!r){e.next=8;break}return e.next=6,Or(r);case 6:o=e.sent,t.dispatch($n(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){})),ethereum.on("accountsChanged",function(){var e=(0,o.Z)(f().mark((function e(n){var r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n&&n.length?n[0]:"")){e.next=7;break}return e.next=4,Or(r);case 4:a=e.sent,t.dispatch(Xn(r)),t.dispatch($n(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ethereum.on("chainChanged",(function(e){t.dispatch(Qn(e)),ethereum.request({method:"eth_requestAccounts"}).then(function(){var e=(0,o.Z)(f().mark((function e(n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.length){e.next=6;break}return e.next=3,Or(n[0]);case 3:r=e.sent,t.dispatch(Xn(n[0])),t.dispatch($n(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();ra().interceptors.request.use((function(e){return e}));const va=function(e){return ra().create({baseURL:Zn,timeout:12e3})(e)};function ba(e,t){var n=x()(e);if(E()){var r=E()(e);t&&(r=L()(r).call(r,(function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)F()(n=ba(Object(r),!0)).call(n,(function(t){(0,Y.Z)(e,t,r[t])}));else if(q())U()(e,q()(r));else{var a;F()(a=ba(Object(r))).call(a,(function(t){Q()(e,t,H()(r,t))}))}}return e}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e||"string"!=typeof e)throw new Error("Pramamet6er illegal");return va({url:"pool/".concat(e),methods:"get"})}function ka(e){var t=y()(e).call(e,(function(e,t){return v()(e).call(e,wa(t))}),[]);return ra().all(t).then(ra().spread((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=n&&n.length?n.length:0,o={},i={},s=0;s<a;s++){var l=e[s],u=n[s],c=u.status,d=u.data;if(200===c&&"object"===(0,p.Z)(d)){var f=d.IP,h=d.BlockChainType,y=d.NetworkType,m=d.ExtraMeta,v={poolAddress:l,completed:!0,ip:f,blockChainType:h,networkType:y};if("string"==typeof m&&m.length)try{var b=JSON.parse(m),x=b.email,w=void 0===x?"":x,k=b.url,g=void 0===k?"":k,j=b.name,T=void 0===j?"":j;i[l]=xa(xa({},v),{},{email:w,url:g,poolName:T,extraMeta:b})}catch(e){o[l]=xa(xa({},v),{},{invalid:!0})}else o[l]=xa(xa({},v),{},{invalid:!0})}else o[l]={poolAddress:l,invalid:!0,completed:!0}}return{ids:e,invalidPools:o,pools:i}})))}var ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Pe,val:e}},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Ie,val:{pools:e,invalidPools:t}}},Ta=n(25108);function Na(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Za,_a,Ma,Aa,Ca=(0,_.lX)(),Ia=(Za=C,_a=Ca,Ma=[P.Z,it],Aa=[I.md.apply(void 0,Ma)],at(_a),(0,I.MT)(at(_a),Za,ot.apply(void 0,Aa)));window.store=Ia;var Pa=function(e){(0,l.Z)(n,e);var t=Na(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).state={},r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){ma(Ia),ya().then((function(e){var t,n=e&&e.length?e.length:0;return Ia.dispatch({type:Me,val:n}),Ia.dispatch(function(){return{type:Ae,val:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(e)),Ia.dispatch(function(){return{type:Ce,val:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}((t=e,"object"===(0,p.Z)(t)&&t.length?y()(t).call(t,(function(e,t){return v()(e).call(e,[{poolAddress:t,unfilled:!0}])}),[]):[]))),e})).then((function(e){if(e&&e.length>0){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("object"!==(0,p.Z)(e)||!e.length)return{};var n=L()(e).call(e,(function(e){return"string"==typeof e&&e.length}));if(!n.length)return{};for(var r={},a=n.length,o=j()(a/t),i=a%t,s=0;s<o;s++){var l=s*t,u=(s+1)*t;r[s]=te()(n).call(n,l,u)}return i>0&&(r[o]=te()(n).call(n,0-i)),r}(e,30);return t}throw new Error("ids invalid")})).catch((function(e){Ta.log("WARN: load Pool IDs from chain Faill>>".concat(ae()().format("YYYY-MM-DD HH:mm:ss"),">>"),e)})).then(function(){var e=(0,o.Z)(f().mark((function e(t){var n,r,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=x()(t),r=n.length,3,a=function(e){var n=t[e];if(0===e)k()((function(){ka(n).then((function(t){Ta.log("Async load pools > Group: ".concat(e+1," >>"),t);var n=t.pools,r=t.invalidPools;Ia.dispatch(ga(r)),Ia.dispatch(ja(n,r))})).catch((function(e){Ta.log("BAS server S>>>B>>>>fail:",e)}))}),1e3);else{var r=3*e*1e3;k()((function(){ka(n).then((function(t){Ta.log("Async load pools > Group: ".concat(e+1," >>"),t);var n=t.pools,r=t.invalidPools;Ia.dispatch(ga(r)),Ia.dispatch(ja(n,r))})).catch((function(e){Ta.log("BAS server S>>>B>>>>fail:",e)}))}),r)}},o=0;o<r;o++)a(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ta.log("Get pools from chain fail",e)}))}},{key:"render",value:function(){return(0,wt.jsx)(N.zt,{store:Ia,children:(0,wt.jsx)(Z.VK,{history:Ca,children:(0,wt.jsx)(ha,{})})})}}]),n}(T.Component);const Ba=Pa},42772:(e,t,n)=>{"use strict";e.exports=n.p+"d699ce0aa255d77bbf9d.png"},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},27790:()=>{},52361:()=>{},94616:()=>{},6567:()=>{}}]);