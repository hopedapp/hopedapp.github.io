"use strict";(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[4006],{44242:(r,t,e)=>{e.d(t,{Y0:()=>l,ZN:()=>h});var n=e(93286);const o=new(e(80711).Yd)("strings/5.5.0");var s,a;function i(r,t,e,n,o){if(r===a.BAD_PREFIX||r===a.UNEXPECTED_CONTINUE){let r=0;for(let n=t+1;n<e.length&&e[n]>>6==2;n++)r++;return r}return r===a.OVERRUN?e.length-t-1:0}!function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"}(s||(s={})),function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"}(a||(a={}));const c=Object.freeze({error:function(r,t,e,n,s){return o.throwArgumentError(`invalid codepoint at offset ${t}; ${r}`,"bytes",e)},ignore:i,replace:function(r,t,e,n,o){return r===a.OVERLONG?(n.push(o),0):(n.push(65533),i(r,t,e))}});function u(r,t){null==t&&(t=c.error),r=(0,n.lE)(r);const e=[];let o=0;for(;o<r.length;){const n=r[o++];if(n>>7==0){e.push(n);continue}let s=null,i=null;if(192==(224&n))s=1,i=127;else if(224==(240&n))s=2,i=2047;else{if(240!=(248&n)){o+=t(128==(192&n)?a.UNEXPECTED_CONTINUE:a.BAD_PREFIX,o-1,r,e);continue}s=3,i=65535}if(o-1+s>=r.length){o+=t(a.OVERRUN,o-1,r,e);continue}let c=n&(1<<8-s-1)-1;for(let n=0;n<s;n++){let n=r[o];if(128!=(192&n)){o+=t(a.MISSING_CONTINUE,o,r,e),c=null;break}c=c<<6|63&n,o++}null!==c&&(c>1114111?o+=t(a.OUT_OF_RANGE,o-1-s,r,e,c):c>=55296&&c<=57343?o+=t(a.UTF16_SURROGATE,o-1-s,r,e,c):c<=i?o+=t(a.OVERLONG,o-1-s,r,e,c):e.push(c))}return e}function l(r,t=s.current){t!=s.current&&(o.checkNormalize(),r=r.normalize(t));let e=[];for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(n<128)e.push(n);else if(n<2048)e.push(n>>6|192),e.push(63&n|128);else if(55296==(64512&n)){t++;const o=r.charCodeAt(t);if(t>=r.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&o);e.push(s>>18|240),e.push(s>>12&63|128),e.push(s>>6&63|128),e.push(63&s|128)}else e.push(n>>12|224),e.push(n>>6&63|128),e.push(63&n|128)}return(0,n.lE)(e)}function h(r,t){return u(r,t).map((r=>r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode(55296+(r>>10&1023),56320+(1023&r))))).join("")}},8286:(r,t,e)=>{e.r(t),e.d(t,{TransactionTypes:()=>O,accessListify:()=>T,computeAddress:()=>D,parse:()=>Y,recoverAddress:()=>G,serialize:()=>$});var n=e(64594),o=e(15154),s=e(93286),a=e(21046),i=e(38197),c=e(53587),u=e(80711);const l=new u.Yd("rlp/5.5.0");function h(r){const t=[];for(;r;)t.unshift(255&r),r>>=8;return t}function g(r,t,e){let n=0;for(let o=0;o<e;o++)n=256*n+r[t+o];return n}function m(r){if(Array.isArray(r)){let t=[];if(r.forEach((function(r){t=t.concat(m(r))})),t.length<=55)return t.unshift(192+t.length),t;const e=h(t.length);return e.unshift(247+e.length),e.concat(t)}(0,s.Zq)(r)||l.throwArgumentError("RLP object must be BytesLike","object",r);const t=Array.prototype.slice.call((0,s.lE)(r));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=h(t.length);return e.unshift(183+e.length),e.concat(t)}function d(r){return(0,s.Dv)(m(r))}function p(r,t,e,n){const o=[];for(;e<t+1+n;){const s=f(r,e);o.push(s.result),(e+=s.consumed)>t+1+n&&l.throwError("child data too short",u.Yd.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function f(r,t){if(0===r.length&&l.throwError("data too short",u.Yd.errors.BUFFER_OVERRUN,{}),r[t]>=248){const e=r[t]-247;t+1+e>r.length&&l.throwError("data short segment too short",u.Yd.errors.BUFFER_OVERRUN,{});const n=g(r,t+1,e);return t+1+e+n>r.length&&l.throwError("data long segment too short",u.Yd.errors.BUFFER_OVERRUN,{}),p(r,t,t+1+e,e+n)}if(r[t]>=192){const e=r[t]-192;return t+1+e>r.length&&l.throwError("data array too short",u.Yd.errors.BUFFER_OVERRUN,{}),p(r,t,t+1,e)}if(r[t]>=184){const e=r[t]-183;t+1+e>r.length&&l.throwError("data array too short",u.Yd.errors.BUFFER_OVERRUN,{});const n=g(r,t+1,e);t+1+e+n>r.length&&l.throwError("data array too short",u.Yd.errors.BUFFER_OVERRUN,{});return{consumed:1+e+n,result:(0,s.Dv)(r.slice(t+1+e,t+1+e+n))}}if(r[t]>=128){const e=r[t]-128;t+1+e>r.length&&l.throwError("data too short",u.Yd.errors.BUFFER_OVERRUN,{});return{consumed:1+e,result:(0,s.Dv)(r.slice(t+1,t+1+e))}}return{consumed:1,result:(0,s.Dv)(r[t])}}function E(r){const t=(0,s.lE)(r),e=f(t,0);return e.consumed!==t.length&&l.throwArgumentError("invalid rlp data","data",r),e.result}var y=e(21405);const v=new u.Yd("signing-key/5.5.0");let P=null;function N(){return P||(P=new y.EC("secp256k1")),P}class w{constructor(r){(0,c.zG)(this,"curve","secp256k1"),(0,c.zG)(this,"privateKey",(0,s.Dv)(r));const t=N().keyFromPrivate((0,s.lE)(this.privateKey));(0,c.zG)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,c.zG)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,c.zG)(this,"_isSigningKey",!0)}_addPoint(r){const t=N().keyFromPublic((0,s.lE)(this.publicKey)),e=N().keyFromPublic((0,s.lE)(r));return"0x"+t.pub.add(e.pub).encodeCompressed("hex")}signDigest(r){const t=N().keyFromPrivate((0,s.lE)(this.privateKey)),e=(0,s.lE)(r);32!==e.length&&v.throwArgumentError("bad digest length","digest",r);const n=t.sign(e,{canonical:!0});return(0,s.N)({recoveryParam:n.recoveryParam,r:(0,s.$m)("0x"+n.r.toString(16),32),s:(0,s.$m)("0x"+n.s.toString(16),32)})}computeSharedSecret(r){const t=N().keyFromPrivate((0,s.lE)(this.privateKey)),e=N().keyFromPublic((0,s.lE)(x(r)));return(0,s.$m)("0x"+t.derive(e.getPublic()).toString(16),32)}static isSigningKey(r){return!(!r||!r._isSigningKey)}}function x(r,t){const e=(0,s.lE)(r);if(32===e.length){const r=new w(e);return t?"0x"+N().keyFromPrivate(e).getPublic(!0,"hex"):r.publicKey}return 33===e.length?t?(0,s.Dv)(e):"0x"+N().keyFromPublic(e).getPublic(!1,"hex"):65===e.length?t?"0x"+N().keyFromPublic(e).getPublic(!0,"hex"):(0,s.Dv)(e):v.throwArgumentError("invalid public or private key","key","[REDACTED]")}var F=e(25108);const R=new u.Yd("transactions/5.5.0");var O;function b(r){return"0x"===r?null:(0,n.Kn)(r)}function A(r){return"0x"===r?a._Y:o.O$.from(r)}!function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"}(O||(O={}));const U=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],I={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function D(r){const t=x(r);return(0,n.Kn)((0,s.p3)((0,i.w)((0,s.p3)(t,1)),12))}function G(r,t){return D(function(r,t){const e=(0,s.N)(t),n={r:(0,s.lE)(e.r),s:(0,s.lE)(e.s)};return"0x"+N().recoverPubKey((0,s.lE)(r),n,e.recoveryParam).encode("hex",!1)}((0,s.lE)(r),t))}function _(r,t){const e=(0,s.G1)(o.O$.from(r).toHexString());return e.length>32&&R.throwArgumentError("invalid length for "+t,"transaction:"+t,r),e}function L(r,t){return{address:(0,n.Kn)(r),storageKeys:(t||[]).map(((t,e)=>(32!==(0,s.E1)(t)&&R.throwArgumentError("invalid access list storageKey",`accessList[${r}:${e}]`,t),t.toLowerCase())))}}function T(r){if(Array.isArray(r))return r.map(((r,t)=>Array.isArray(r)?(r.length>2&&R.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,r),L(r[0],r[1])):L(r.address,r.storageKeys)));const t=Object.keys(r).map((t=>{const e=r[t].reduce(((r,t)=>(r[t]=!0,r)),{});return L(t,Object.keys(e).sort())}));return t.sort(((r,t)=>r.address.localeCompare(t.address))),t}function K(r){return T(r).map((r=>[r.address,r.storageKeys]))}function k(r,t){if(null!=r.gasPrice){const t=o.O$.from(r.gasPrice),e=o.O$.from(r.maxFeePerGas||0);t.eq(e)||R.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:e})}const e=[_(r.chainId||0,"chainId"),_(r.nonce||0,"nonce"),_(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_(r.maxFeePerGas||0,"maxFeePerGas"),_(r.gasLimit||0,"gasLimit"),null!=r.to?(0,n.Kn)(r.to):"0x",_(r.value||0,"value"),r.data||"0x",K(r.accessList||[])];if(t){const r=(0,s.N)(t);e.push(_(r.recoveryParam,"recoveryParam")),e.push((0,s.G1)(r.r)),e.push((0,s.G1)(r.s))}return(0,s.xs)(["0x02",d(e)])}function C(r,t){const e=[_(r.chainId||0,"chainId"),_(r.nonce||0,"nonce"),_(r.gasPrice||0,"gasPrice"),_(r.gasLimit||0,"gasLimit"),null!=r.to?(0,n.Kn)(r.to):"0x",_(r.value||0,"value"),r.data||"0x",K(r.accessList||[])];if(t){const r=(0,s.N)(t);e.push(_(r.recoveryParam,"recoveryParam")),e.push((0,s.G1)(r.r)),e.push((0,s.G1)(r.s))}return(0,s.xs)(["0x01",d(e)])}function $(r,t){if(null==r.type||0===r.type)return null!=r.accessList&&R.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),function(r,t){(0,c.uj)(r,I);const e=[];U.forEach((function(t){let n=r[t.name]||[];const o={};t.numeric&&(o.hexPad="left"),n=(0,s.lE)((0,s.Dv)(n,o)),t.length&&n.length!==t.length&&n.length>0&&R.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,s.G1)(n),n.length>t.maxLength&&R.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),e.push((0,s.Dv)(n))}));let n=0;if(null!=r.chainId?(n=r.chainId,"number"!=typeof n&&R.throwArgumentError("invalid transaction.chainId","transaction",r)):t&&!(0,s.Zq)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(e.push((0,s.Dv)(n)),e.push("0x"),e.push("0x")),!t)return d(e);const o=(0,s.N)(t);let a=27+o.recoveryParam;return 0!==n?(e.pop(),e.pop(),e.pop(),a+=2*n+8,o.v>28&&o.v!==a&&R.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==a&&R.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),e.push((0,s.Dv)(a)),e.push((0,s.G1)((0,s.lE)(o.r))),e.push((0,s.G1)((0,s.lE)(o.s))),d(e)}(r,t);switch(r.type){case 1:return C(r,t);case 2:return k(r,t)}return R.throwError(`unsupported transaction type: ${r.type}`,u.Yd.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function S(r,t,e){try{const e=A(t[0]).toNumber();if(0!==e&&1!==e)throw new Error("bad recid");r.v=e}catch(r){R.throwArgumentError("invalid v for transaction type: 1","v",t[0])}r.r=(0,s.$m)(t[1],32),r.s=(0,s.$m)(t[2],32);try{const t=(0,i.w)(e(r));r.from=G(t,{r:r.r,s:r.s,recoveryParam:r.v})}catch(r){F.log(r)}}function Y(r){const t=(0,s.lE)(r);if(t[0]>127)return function(r){const t=E(r);9!==t.length&&6!==t.length&&R.throwArgumentError("invalid raw transaction","rawTransaction",r);const e={nonce:A(t[0]).toNumber(),gasPrice:A(t[1]),gasLimit:A(t[2]),to:b(t[3]),value:A(t[4]),data:t[5],chainId:0};if(6===t.length)return e;try{e.v=o.O$.from(t[6]).toNumber()}catch(r){return F.log(r),e}if(e.r=(0,s.$m)(t[7],32),e.s=(0,s.$m)(t[8],32),o.O$.from(e.r).isZero()&&o.O$.from(e.s).isZero())e.chainId=e.v,e.v=0;else{e.chainId=Math.floor((e.v-35)/2),e.chainId<0&&(e.chainId=0);let n=e.v-27;const o=t.slice(0,6);0!==e.chainId&&(o.push((0,s.Dv)(e.chainId)),o.push("0x"),o.push("0x"),n-=2*e.chainId+8);const a=(0,i.w)(d(o));try{e.from=G(a,{r:(0,s.Dv)(e.r),s:(0,s.Dv)(e.s),recoveryParam:n})}catch(r){F.log(r)}e.hash=(0,i.w)(r)}return e.type=null,e}(t);switch(t[0]){case 1:return function(r){const t=E(r.slice(1));8!==t.length&&11!==t.length&&R.throwArgumentError("invalid component count for transaction type: 1","payload",(0,s.Dv)(r));const e={type:1,chainId:A(t[0]).toNumber(),nonce:A(t[1]).toNumber(),gasPrice:A(t[2]),gasLimit:A(t[3]),to:b(t[4]),value:A(t[5]),data:t[6],accessList:T(t[7])};return 8===t.length||(e.hash=(0,i.w)(r),S(e,t.slice(8),C)),e}(t);case 2:return function(r){const t=E(r.slice(1));9!==t.length&&12!==t.length&&R.throwArgumentError("invalid component count for transaction type: 2","payload",(0,s.Dv)(r));const e=A(t[2]),n=A(t[3]),o={type:2,chainId:A(t[0]).toNumber(),nonce:A(t[1]).toNumber(),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:A(t[4]),to:b(t[5]),value:A(t[6]),data:t[7],accessList:T(t[8])};return 9===t.length||(o.hash=(0,i.w)(r),S(o,t.slice(9),k)),o}(t)}return R.throwError(`unsupported transaction type: ${t[0]}`,u.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}}}]);